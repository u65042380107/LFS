{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Home.css';import axios from'axios';import{Link,useNavigate}from'react-router-dom';// require('dotenv').config();\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[data,setData]=useState([]);useEffect(()=>{axios.get(\"http://localhost:5000/\").then(res=>setData(res.data)).catch(err=>console.log(err));});const navigate=useNavigate();const handleDelete=id=>{axios.delete('http://localhost:5000/delete/'+id).then(res=>navigate('/')).catch(err=>console.log(err));};return/*#__PURE__*/_jsx(\"div\",{className:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{align:\"center\",children:\"Student\"}),/*#__PURE__*/_jsx(Link,{to:\"/create\",align:\"center\",className:\"btn-add\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",align:\"center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Major\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(d=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:d.id}),/*#__PURE__*/_jsxs(\"td\",{children:[d.fname,\" \",d.lname]}),/*#__PURE__*/_jsx(\"td\",{children:d.phone}),/*#__PURE__*/_jsx(\"td\",{children:d.major_id}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(d.id),className:\"btn-sm\",children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDelete(d.id),className:\"btn-cc\",children:\"\\u0E25\\u0E1A\"})]})]}))})]})]})});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Home","data","setData","get","then","res","catch","err","console","log","navigate","handleDelete","id","delete","className","children","align","to","map","d","fname","lname","phone","major_id","concat","onClick","e"],"sources":["D:/65042380107/frontend/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './Home.css'\r\nimport axios from 'axios'\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n// require('dotenv').config();\r\n\r\nfunction Home() {\r\n    const [data,setData] = useState([]);\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:5000/\").then(res=>setData(res.data)).catch(err=>console.log(err))\r\n    })\r\n    const navigate = useNavigate();\r\n    const handleDelete = (id)=>{\r\n        axios.delete('http://localhost:5000/delete/'+id).then(res=>navigate('/')).catch(err=>console.log(err))\r\n    }\r\n\r\n  return (\r\n    <div className=\"home\">\r\n        <div className=\"container\">\r\n            <h2 align='center'>Student</h2>\r\n            <Link to=\"/create\" align='center' className='btn-add'>เพิ่มข้อมูล</Link>\r\n            <table className=\"table\" align='center'>\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Name</th>\r\n                        <th>Phone</th>\r\n                        <th>Major</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {data.map((d)=>(\r\n                        <tr>\r\n                            <td>{d.id}</td>\r\n                            <td>{d.fname} {d.lname}</td>\r\n                            <td>{d.phone}</td>\r\n                            <td>{d.major_id}</td>\r\n                            <td>\r\n                                <Link to={`/update/${d.id}`} className=\"btn-sm\" >แก้ไข</Link>\r\n                                <button onClick={e=> handleDelete(d.id)} className=\"btn-cc\">ลบ</button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}